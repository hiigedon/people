# shicimingju
诗词名句网获取展示


### 爬虫端

目标： [诗词名句网](http://www.shicimingju.com/category/all)

信息：获得网站收录的13033位诗人信息及作品

- 个人简介(`姓名`、`年代(若无为空)`、`简介`)
- 所有作品(`诗词名称`，`诗词内容`，`解析(若有解析，加上解析)`)

存储：mysql(通过flask_sqlalchemy)

### 展示端（前端）

**前端对用户输入进行过滤**

设计一个搜索页面(类似百度)，支持用户进行搜索，支持搜索语法如：
```text
  诗人:李白    #搜索诗人李白的所有作品
  诗句：清明    #搜索诗句中包含`清明`两个字的诗句
```
同时支持直接搜索，包括直接搜索诗词名称如: `静夜思`

展示可以使用模态窗或者跳转页面进行。

附加项： 配合后端使用pyecharts，展示诗人的诗数量前十的柱状图。


### 展示端（后端）

处理业务逻辑，主要为搜索，根据前端查询所传回后端的值，就行相应的查询数据库操作。

本项目只需设计两种表：一张诗人表，一张诗词表

**诗人表**

 |ID|诗人名称|朝代|简介|
|:----:|:----:|:----:|:---:|
|1|李白|唐|李白（701年－762年），字太白，号青莲居士...

**诗词表**

 |ID|诗词名称|作者|诗句内容|解析|
|:----:|:----:|:----:|:---:|:---:|
|1|静夜思|李白|床前明月光，疑是地上霜。举头望明月，低头思故乡。|月白霜清，是清秋夜景；以霜色形容月光，也是古典诗歌中所经常看到的。

注意两个表之间的关系，参考 `一对多`的关系设计。

### 总体要求

- 协同开发，使用git进行版本控制。
- 有问题及时反馈，及时解决。


### How to use

1.安装所需依赖

```text
pip install -r requirements.txt
```

2.配置好config.py文件中的Mysql数据库配置,先创建好对应数据库，然后进行数据库迁移操作
```text
python manages.py db init  #初始化数据库
python manages.py db migrate 
python manages.py db upgrade
```

3.进行数据爬取
```text
python manages.py spider
```

4.爬取结束后，运行flask,访问 `127.0.0.1:8000`即可使用
```text
python app.py
```
